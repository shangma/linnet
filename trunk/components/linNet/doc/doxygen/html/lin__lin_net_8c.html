<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>linNet: lin_linNet.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="linnet_small.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">linNet
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">linNet - The Software for symbolic Analysis of linear Electronic Circuits</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_050edd66366d13764f98250ef6db77f6.html">code</a></li><li class="navelem"><a class="el" href="dir_8298fcfb537a7f39dcc014d2590e4792.html">linNet</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">lin_linNet.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;dirent.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;ctype.h&gt;</code><br/>
<code>#include &lt;time.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="log__logger_8h_source.html">log_logger.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="smalloc_8h_source.html">smalloc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="fil__file_8h_source.html">fil_file.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mem__memory_manager_8h_source.html">mem_memoryManager.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rat__rational_number_8h_source.html">rat_rationalNumber.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="pci__parser_circuit_8h_source.html">pci_parserCircuit.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="tbv__table_of_variables_8h_source.html">tbv_tableOfVariables.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="coe__coefficient_8h_source.html">coe_coefficient.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="les__linear_equation_system_8h_source.html">les_linearEquationSystem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="frq__freq_domain_solution_8h_source.html">frq_freqDomainSolution.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="msc__m_script_8h_source.html">msc_mScript.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sol__solver_8h_source.html">sol_solver.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="opt__get_opt_8h_source.html">opt_getOpt.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lin__lin_net_8h_source.html">lin_linNet.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad71aeb03d03709c5072b99cb68c21992"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lin__lin_net_8c.html#ad71aeb03d03709c5072b99cb68c21992">SL</a>&#160;&#160;&#160;&quot;/&quot;</td></tr>
<tr class="separator:ad71aeb03d03709c5072b99cb68c21992"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4584b095232907f17cf1472ad0ade9bf"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lin__lin_net_8c.html#a4584b095232907f17cf1472ad0ade9bf">getTimeStr</a> ()</td></tr>
<tr class="separator:a4584b095232907f17cf1472ad0ade9bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0185e0317b8cbea54a0ea5ddfab1ea7"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lin__lin_net_8c.html#af0185e0317b8cbea54a0ea5ddfab1ea7">getLogFileName</a> (const <a class="el" href="structopt__cmd_line_options__t.html">opt_cmdLineOptions_t</a> *const pCmdLine, const char *const circuitFileName)</td></tr>
<tr class="separator:af0185e0317b8cbea54a0ea5ddfab1ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc341495f18f5732bf0863dfa451a7a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lin__lin_net_8c.html#adfc341495f18f5732bf0863dfa451a7a">makeOctaveOutputDir</a> (const char *const outputPath, const char *const folderName, <a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a> dontCopyPrivateScripts, <a class="el" href="log__logger_8h.html#af0f5518e5bd201b7e1f52e0702131c0e">log_hLogger_t</a> hLog)</td></tr>
<tr class="separator:adfc341495f18f5732bf0863dfa451a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa305e8bdf1948e03e11e2ef082d24930"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lin__lin_net_8c.html#aa305e8bdf1948e03e11e2ef082d24930">processInputFile</a> (const char *const circuitFileName, const char *const octaveOutputPath, <a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a> dontCopyPrivateOctaveScripts, <a class="el" href="log__logger_8h.html#af0f5518e5bd201b7e1f52e0702131c0e">log_hLogger_t</a> hLog)</td></tr>
<tr class="separator:aa305e8bdf1948e03e11e2ef082d24930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bfc2ded38cb3643d458581adb77200b"><td class="memItemLeft" align="right" valign="top">signed int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lin__lin_net_8c.html#a9bfc2ded38cb3643d458581adb77200b">main</a> (signed int argc, char *argv[])</td></tr>
<tr class="separator:a9bfc2ded38cb3643d458581adb77200b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adcd6c1723f628b788d3508aef03a8138"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lin__lin_net_8c.html#adcd6c1723f628b788d3508aef03a8138">_installDir</a> = NULL</td></tr>
<tr class="separator:adcd6c1723f628b788d3508aef03a8138"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main function of linNet.</p>
<p>Copyright (C) 2013-2014 Peter Vranken (<a href="#" onclick="location.href='mai'+'lto:'+'Pet'+'er'+'_Vr'+'an'+'ken'+'@Y'+'aho'+'o.'+'de'; return false;">Peter<span style="display: none;">.nosp@m.</span>_Vra<span style="display: none;">.nosp@m.</span>nken@<span style="display: none;">.nosp@m.</span>Yaho<span style="display: none;">.nosp@m.</span>o.de</a>)</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad71aeb03d03709c5072b99cb68c21992"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SL&#160;&#160;&#160;&quot;/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The path separator character as a string constant. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4584b095232907f17cf1472ad0ade9bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* getTimeStr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the current system time as printable string. </p>
<dl class="section return"><dt>Returns</dt><dd>The time string is returned. The returned pointer is valid until next entry into this function. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The function is not reentrant but uses static memory to store the time information. </dd></dl>

</div>
</div>
<a class="anchor" id="af0185e0317b8cbea54a0ea5ddfab1ea7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* getLogFileName </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structopt__cmd_line_options__t.html">opt_cmdLineOptions_t</a> *const&#160;</td>
          <td class="paramname"><em>pCmdLine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>circuitFileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Figure out the name of the log file. It is either user-specified or derived from a circuit file or application name.<br/>
 If a single input circuit file is processed then log file is named as the circuit file and it is placed into to output folder.<br/>
 If several circuit files are processed then the common log file is placed into the output folder. Its name is derived from the application name. </p>
<dl class="section return"><dt>Returns</dt><dd>Get the file name as malloc allocated string. Or NULL if the user had specified: "don't
use a log file at all." </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCmdLine</td><td>The result of the command line parsing is passed by reference. </td></tr>
    <tr><td class="paramname">circuitFileName</td><td>The name of the only or the first input file name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adfc341495f18f5732bf0863dfa451a7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a> makeOctaveOutputDir </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>outputPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a>&#160;</td>
          <td class="paramname"><em>dontCopyPrivateScripts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log__logger_8h.html#af0f5518e5bd201b7e1f52e0702131c0e">log_hLogger_t</a>&#160;</td>
          <td class="paramname"><em>hLog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check if the needed output directory for the generated Octave scripts already exists. If not, make it now and pre-fill it with all the static, never changing parts of the Octave script code. </p>
<dl class="section return"><dt>Returns</dt><dd><em>true</em> if operation succeeded, otherwise <em>false</em>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outputPath</td><td>The location of the output folder (i.e. its intended parent directory), not including the final slash. </td></tr>
    <tr><td class="paramname">folderName</td><td>The name of the folder that holds all required scripting. </td></tr>
    <tr><td class="paramname">dontCopyPrivateScripts</td><td>Normally, the folder is self-contained, i.e. it contains the cicuit depending, generated script representing the computation result plus some static, always-same scripts needed to run the generated script code. This means that any result will contain the always same support scripts. The user may decide to install this code in his Octave environment (by coying the files and using Octave's addpath to address to the copy), in which case he doesn't need these scripts over and over again. This flag can be set to <em>true</em> in order to not copy these files. </td></tr>
    <tr><td class="paramname">hLog</td><td>Success and problem reports are made in this logger. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa305e8bdf1948e03e11e2ef082d24930"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a> processInputFile </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>circuitFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>octaveOutputPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a>&#160;</td>
          <td class="paramname"><em>dontCopyPrivateOctaveScripts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log__logger_8h.html#af0f5518e5bd201b7e1f52e0702131c0e">log_hLogger_t</a>&#160;</td>
          <td class="paramname"><em>hLog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A single input file is completely processed: The cicuit file is parsed, the computation is conducted, the results are presented and the Octace scripts are generated. </p>
<dl class="section return"><dt>Returns</dt><dd><em>true</em> if operation entirely succeeded, <em>false</em> if errors occured, which invalidate the computed output. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">circuitFileName</td><td>The name of the input file. </td></tr>
    <tr><td class="paramname">octaveOutputPath</td><td>NULL or a path designation. If not NULL then Octave scripts are generated in the specified path which represent the found solution and which permit to do some (numeric) analysis of the circuit. </td></tr>
    <tr><td class="paramname">dontCopyPrivateOctaveScripts</td><td>If Octave scripts should be generated: The actually generated, computation result related scripts depend on some static, always same support scripts. If <em>dontCopyPrivateOctaveScripts</em> is <em>true</em> then these files are added to the result. One might e.g. have installed these files once as part of his Octave installation, so that making a copy for each computation result would be counterproductive. </td></tr>
    <tr><td class="paramname">hLog</td><td>The logger to write all progress messages into. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>uint8_t otherFunction(uint16_t) </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a9bfc2ded38cb3643d458581adb77200b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">signed int main </td>
          <td>(</td>
          <td class="paramtype">signed int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Main entry point of the application. Parse input file, conduct the computation, present the results. </p>
<dl class="section return"><dt>Returns</dt><dd><em>0</em> if application succeeded or -1 if it reported an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>The number of program arguments. </td></tr>
    <tr><td class="paramname">argv</td><td>An array of <em>argc</em> constant strings, each a program argument. An additional array entry NULL indicates the end of the list. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="adcd6c1723f628b788d3508aef03a8138"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* _installDir = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The path to the application directory as malloc allocated string if known or NULL if unknown. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 23 2014 10:40:27 for linNet by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
