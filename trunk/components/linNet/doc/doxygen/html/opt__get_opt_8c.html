<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>linNet: opt_getOpt.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="linnet_small.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">linNet
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">linNet - The Software for symbolic Analysis of linear Electronic Circuits</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_050edd66366d13764f98250ef6db77f6.html">code</a></li><li class="navelem"><a class="el" href="dir_8298fcfb537a7f39dcc014d2590e4792.html">linNet</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">opt_getOpt.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;ctype.h&gt;</code><br/>
<code>#include &lt;limits.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;getopt.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="lin__lin_net_8h_source.html">lin_linNet.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="opt__get_opt_8h_source.html">opt_getOpt.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af7a64b2b81a64c95b7766df5df3eaa86"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opt__get_opt_8c.html#af7a64b2b81a64c95b7766df5df3eaa86">HELP_TEXT</a></td></tr>
<tr class="separator:af7a64b2b81a64c95b7766df5df3eaa86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1babce4608d354296a16b0e05de5329"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opt__get_opt_8c.html#ac1babce4608d354296a16b0e05de5329">CHAR_PTR</a>(s)&#160;&#160;&#160;((s)!=NULL? (*(s)!='\0'? (s): &quot;(default value)&quot;): &quot;NULL&quot;)</td></tr>
<tr class="separator:ac1babce4608d354296a16b0e05de5329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7134dee04faefd8b454e32696e8802e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opt__get_opt_8c.html#a7134dee04faefd8b454e32696e8802e1">BOOL_STR</a>(b)&#160;&#160;&#160;((b)? &quot;true&quot;: &quot;<a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275edae9de385ef6fe9bf3360d1038396b884c">false</a>&quot;)</td></tr>
<tr class="separator:a7134dee04faefd8b454e32696e8802e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad38c9102780f7303f6197b24b8e9b8ea"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opt__get_opt_8c.html#ad38c9102780f7303f6197b24b8e9b8ea">checkUserInput</a> (<a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a> parseSuccess, const <a class="el" href="structopt__cmd_line_options__t.html">opt_cmdLineOptions_t</a> *const pCmdLineOptions)</td></tr>
<tr class="separator:ad38c9102780f7303f6197b24b8e9b8ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a716df96158c8240d7d79efe4986b39df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opt__get_opt_8c.html#a716df96158c8240d7d79efe4986b39df">opt_parseCmdLine</a> (<a class="el" href="structopt__cmd_line_options__t.html">opt_cmdLineOptions_t</a> *const pCmdLineOptions, signed int argc, char *argv[])</td></tr>
<tr class="separator:a716df96158c8240d7d79efe4986b39df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104aecbb8346268563b0c70ebcd916fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opt__get_opt_8c.html#a104aecbb8346268563b0c70ebcd916fb">opt_echoUserInput</a> (FILE *stream, const <a class="el" href="structopt__cmd_line_options__t.html">opt_cmdLineOptions_t</a> *const pCmdLineOptions)</td></tr>
<tr class="separator:a104aecbb8346268563b0c70ebcd916fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Command line parser, using getopt.</p>
<p>Copyright (C) 2014 Peter Vranken (<a href="#" onclick="location.href='mai'+'lto:'+'Pet'+'er'+'_Vr'+'an'+'ken'+'@Y'+'aho'+'o.'+'de'; return false;">Peter<span style="display: none;">.nosp@m.</span>_Vra<span style="display: none;">.nosp@m.</span>nken@<span style="display: none;">.nosp@m.</span>Yaho<span style="display: none;">.nosp@m.</span>o.de</a>)</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="af7a64b2b81a64c95b7766df5df3eaa86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HELP_TEXT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac1babce4608d354296a16b0e05de5329"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHAR_PTR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s</td><td>)</td>
          <td>&#160;&#160;&#160;((s)!=NULL? (*(s)!='\0'? (s): &quot;(default value)&quot;): &quot;NULL&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7134dee04faefd8b454e32696e8802e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOL_STR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b</td><td>)</td>
          <td>&#160;&#160;&#160;((b)? &quot;true&quot;: &quot;<a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275edae9de385ef6fe9bf3360d1038396b884c">false</a>&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad38c9102780f7303f6197b24b8e9b8ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a> checkUserInput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a>&#160;</td>
          <td class="paramname"><em>parseSuccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structopt__cmd_line_options__t.html">opt_cmdLineOptions_t</a> *const&#160;</td>
          <td class="paramname"><em>pCmdLineOptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Double check the parsed user input. Some command line options might be mandatory but not given or they might be contradictory. Print the help text if a problem is found and return false. </p>
<dl class="section return"><dt>Returns</dt><dd><em>true</em> if everything is alright and the application can continue, <em>false</em> if a problem would inhibit further processing. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parseSuccess</td><td>A problem can have ocured already during parsing. If so, this function will immediately print the help text and return. </td></tr>
    <tr><td class="paramname">pCmdLineOptions</td><td>The command line parse result. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a716df96158c8240d7d79efe4986b39df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a7c6368b321bd9acd0149b030bb8275ed">boolean</a> opt_parseCmdLine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structopt__cmd_line_options__t.html">opt_cmdLineOptions_t</a> *const&#160;</td>
          <td class="paramname"><em>pCmdLineOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">signed int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse the command line. Depending on macro <a class="el" href="opt__get_opt_8h.html#aed12be0d1b00dd6bf06e3cd1b89a7448">OPT_USE_POSIX_GETOPT</a> the implementation use the basic POSIX command line parser getopt or the GNU extensions of this function. POSIX only permits the short one character command line options. The GNU extensions support long command line options and options with default arguments. </p>
<dl class="section return"><dt>Returns</dt><dd><em>true</em> if parsing succeeded. If help has been demanded or if an error occurs then an error message including the help text is printed to stdout/stderr and <em>false</em> is returned. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCmdLineOptions</td><td>The parse results are returned in * <em>pCmdLineOptions</em>. </td></tr>
    <tr><td class="paramname">argc</td><td>The first argument of function main: The number of program arguments. </td></tr>
    <tr><td class="paramname">argv</td><td>The second argument of function main: An array of <em>argc</em> constant strings, each a program argument. An additional array entry NULL indicates the end of the list. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a104aecbb8346268563b0c70ebcd916fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opt_echoUserInput </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structopt__cmd_line_options__t.html">opt_cmdLineOptions_t</a> *const&#160;</td>
          <td class="paramname"><em>pCmdLineOptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print the parsed user input in a formatted way. Only the fileds of the interface struct can be printed as the simple types they are defined but a true interpretation is not possible. Therefore, this function will probably be useful for debugging purpose only. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>An open stream from the stdlib to write in, pass e.g. stdout. </td></tr>
    <tr><td class="paramname">pCmdLineOptions</td><td>The struct with all user input as got from <em>opt_parseCmdLine</em>. You can print the struct even if the parser had reported a problem. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 23 2014 10:40:27 for linNet by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
